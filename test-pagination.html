<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Test Paginazione</title>
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
  <script src="public/lib/medici-visualizer.js"></script>
  <script src="public/lib/medici-visualizer-presets.js"></script>
</head>
<body>
  <h1>Test Paginazione</h1>

  <h2>Scenario 1: 150 items, pageSize=10 (15 pagine)</h2>
  <div id="test1"></div>

  <h2>Scenario 2: 150 items, pageSize=Tutti (no pagination)</h2>
  <div id="test2"></div>

  <h2>Scenario 3: 5 items, pageSize=10 (1 pagina sola, Prec e Succ disabilitati)</h2>
  <div id="test3"></div>

  <script>
    // Generate fake data
    function generateFakeData(count) {
      const result = [];
      for (let i = 1; i <= count; i++) {
        result.push({
          cognome: `Medico${i}`,
          nome: `Nome${i}`,
          assegnabilita: i % 3 === 0 ? 'Assegnazione libera' : (i % 3 === 1 ? 'Deroga' : 'Altro')
        });
      }
      return result;
    }

    // Test 1: 150 items, pageSize=10
    const viz1 = new MediciVisualizer(
      document.getElementById('test1'),
      MediciVisualizerPresets.BOT
    );
    viz1.setData(generateFakeData(150));
    viz1.setPageSize(10);

    // Test 2: 150 items, pageSize=Tutti
    const viz2 = new MediciVisualizer(
      document.getElementById('test2'),
      MediciVisualizerPresets.BOT
    );
    viz2.setData(generateFakeData(150));
    viz2.setPageSize('Tutti');

    // Test 3: 5 items, pageSize=10
    const viz3 = new MediciVisualizer(
      document.getElementById('test3'),
      MediciVisualizerPresets.BOT
    );
    viz3.setData(generateFakeData(5));
    viz3.setPageSize(10);

    console.log('Test 1 - State:', viz1.getState());
    console.log('Test 2 - State:', viz2.getState());
    console.log('Test 3 - State:', viz3.getState());
  </script>
</body>
</html>
